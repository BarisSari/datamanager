{"ast":null,"code":"import _classCallCheck from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport { Component, createElement } from 'react';\nimport axios from 'axios';\nimport ProvincialTreemap from '../../views/ProvincialTreemap';\nimport transformData from './transformData';\nimport { api } from './config.json';\n\nvar DataLoader =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DataLoader, _Component);\n\n  function DataLoader(props) {\n    var _this;\n\n    _classCallCheck(this, DataLoader);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DataLoader).call(this, props));\n    _this.state = {\n      loading: true,\n      data: null\n    };\n    return _this;\n  }\n\n  _createClass(DataLoader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var loadliveData = function loadliveData(_ref) {\n        var data = _ref.data;\n        return _this2.setState({\n          data: transformData(data),\n          loading: false\n        });\n      };\n\n      return axios.get(api).then(function (_ref2) {\n        var data = _ref2.data;\n        return data;\n      }).then(loadliveData);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var state = this.state;\n      var loading = state.loading,\n          data = state.data;\n\n      if (loading || !data) {\n        return createElement('div', {}, 'Loading...');\n      }\n\n      var items = data.items,\n          total = data.total;\n      var initialSelected = {\n        name: 'Provincial Budget Summary',\n        value: total,\n        url: null,\n        color: '#D8D8D8'\n      };\n      var passedProps = {\n        items: items,\n        initialSelected: initialSelected\n      };\n      return createElement(ProvincialTreemap, passedProps);\n    }\n  }]);\n\n  return DataLoader;\n}(Component);\n\nexport default DataLoader;","map":{"version":3,"sources":["/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/packages/webapp/src/adaptors/provincial-treemap/DataLoader.js"],"names":["Component","createElement","axios","ProvincialTreemap","transformData","api","DataLoader","props","state","loading","data","loadliveData","setState","get","then","items","total","initialSelected","name","value","url","color","passedProps"],"mappings":";;;;;AAAA,SAASA,SAAT,EAAoBC,aAApB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,iBAAP,MAA8B,+BAA9B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,GAAT,QAAoB,eAApB;;IAEMC,U;;;;;AACJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,oFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,IADE;AAEXC,MAAAA,IAAI,EAAE;AAFK,KAAb;AAHiB;AAOlB;;;;wCAEmB;AAAA;;AAClB,UAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,YAAGD,IAAH,QAAGA,IAAH;AAAA,eAAc,MAAI,CAACE,QAAL,CAAc;AAAEF,UAAAA,IAAI,EAAEN,aAAa,CAACM,IAAD,CAArB;AAA6BD,UAAAA,OAAO,EAAE;AAAtC,SAAd,CAAd;AAAA,OAArB;;AAEA,aAAOP,KAAK,CACTW,GADI,CACAR,GADA,EAEJS,IAFI,CAEC;AAAA,YAAGJ,IAAH,SAAGA,IAAH;AAAA,eAAcA,IAAd;AAAA,OAFD,EAGJI,IAHI,CAGCH,YAHD,CAAP;AAID;;;6BAEQ;AAAA,UACCH,KADD,GACW,IADX,CACCA,KADD;AAAA,UAECC,OAFD,GAEmBD,KAFnB,CAECC,OAFD;AAAA,UAEUC,IAFV,GAEmBF,KAFnB,CAEUE,IAFV;;AAIP,UAAID,OAAO,IAAI,CAACC,IAAhB,EAAsB;AACpB,eAAOT,aAAa,CAAC,KAAD,EAAQ,EAAR,EAAY,YAAZ,CAApB;AACD;;AANM,UAQCc,KARD,GAQkBL,IARlB,CAQCK,KARD;AAAA,UAQQC,KARR,GAQkBN,IARlB,CAQQM,KARR;AASP,UAAMC,eAAe,GAAG;AACtBC,QAAAA,IAAI,EAAE,2BADgB;AAEtBC,QAAAA,KAAK,EAAEH,KAFe;AAGtBI,QAAAA,GAAG,EAAE,IAHiB;AAItBC,QAAAA,KAAK,EAAE;AAJe,OAAxB;AAOA,UAAMC,WAAW,GAAG;AAAEP,QAAAA,KAAK,EAALA,KAAF;AAASE,QAAAA,eAAe,EAAfA;AAAT,OAApB;AAEA,aAAOhB,aAAa,CAACE,iBAAD,EAAoBmB,WAApB,CAApB;AACD;;;;EAtCsBtB,S;;AAyCzB,eAAeM,UAAf","sourcesContent":["import { Component, createElement } from 'react';\nimport axios from 'axios';\n\nimport ProvincialTreemap from '../../views/ProvincialTreemap';\nimport transformData from './transformData';\nimport { api } from './config.json';\n\nclass DataLoader extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      data: null,\n    };\n  }\n\n  componentDidMount() {\n    const loadliveData = ({ data }) => this.setState({ data: transformData(data), loading: false });\n\n    return axios\n      .get(api)\n      .then(({ data }) => data)\n      .then(loadliveData);\n  }\n\n  render() {\n    const { state } = this;\n    const { loading, data } = state;\n\n    if (loading || !data) {\n      return createElement('div', {}, 'Loading...');\n    }\n\n    const { items, total } = data;\n    const initialSelected = {\n      name: 'Provincial Budget Summary',\n      value: total,\n      url: null,\n      color: '#D8D8D8',\n    };\n\n    const passedProps = { items, initialSelected };\n\n    return createElement(ProvincialTreemap, passedProps);\n  }\n}\n\nexport default DataLoader;\n"]},"metadata":{},"sourceType":"module"}
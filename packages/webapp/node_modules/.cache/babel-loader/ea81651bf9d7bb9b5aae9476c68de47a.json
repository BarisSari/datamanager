{"ast":null,"code":"import _objectSpread from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/packages/webapp/src/components/BarChart/Bar/index.jsx\";\nimport React, { Component } from 'react';\nimport Markup from './Markup';\nimport ResizeWindowListener from '../../../helpers/ResizeWindowListener';\nimport { colors } from './data';\n\nvar Bar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Bar, _Component);\n\n  function Bar(props) {\n    var _this;\n\n    _classCallCheck(this, Bar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Bar).call(this, props));\n    _this.state = {\n      labelOutside: null\n    };\n    _this.values = {\n      fills: colors,\n      componentNode: React.createRef(),\n      textNode: React.createRef()\n    };\n    return _this;\n  }\n\n  _createClass(Bar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.values = _objectSpread({}, this.values, {\n        resizeListener: new ResizeWindowListener(this.labelOutsideHandler.bind(this))\n      });\n      this.labelOutsideHandler();\n    }\n  }, {\n    key: \"labelOutsideHandler\",\n    value: function labelOutsideHandler() {\n      var _this$values = this.values,\n          componentNode = _this$values.componentNode,\n          textNode = _this$values.textNode;\n      var ColorBarWidth = componentNode.current.clientWidth;\n      var TextWidth = textNode.current.clientWidth;\n\n      if (TextWidth >= ColorBarWidth) {\n        return this.setState({\n          labelOutside: true\n        });\n      }\n\n      return this.setState({\n        labelOutside: false\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var resizeListener = this.values.resizeListener;\n\n      if (resizeListener) {\n        return resizeListener.stop();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var state = this.state,\n          props = this.props,\n          values = this.values;\n\n      var passedProps = _objectSpread({}, props, state, {\n        labelOutside: state.labelOutside,\n        textNode: values.textNode,\n        componentNode: values.componentNode,\n        fills: values.fills\n      });\n\n      return React.createElement(Markup, Object.assign({}, passedProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Bar;\n}(Component);\n\nexport default Bar;","map":{"version":3,"sources":["/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/packages/webapp/src/components/BarChart/Bar/index.jsx"],"names":["React","Component","Markup","ResizeWindowListener","colors","Bar","props","state","labelOutside","values","fills","componentNode","createRef","textNode","resizeListener","labelOutsideHandler","bind","ColorBarWidth","current","clientWidth","TextWidth","setState","stop","passedProps"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,oBAAP,MAAiC,uCAAjC;AACA,SAASC,MAAT,QAAuB,QAAvB;;IAGMC,G;;;;;AACJ,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,6EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,YAAY,EAAE;AADH,KAAb;AAIA,UAAKC,MAAL,GAAc;AACZC,MAAAA,KAAK,EAAEN,MADK;AAEZO,MAAAA,aAAa,EAAEX,KAAK,CAACY,SAAN,EAFH;AAGZC,MAAAA,QAAQ,EAAEb,KAAK,CAACY,SAAN;AAHE,KAAd;AANiB;AAWlB;;;;wCAEoB;AACnB,WAAKH,MAAL,qBACK,KAAKA,MADV;AAEEK,QAAAA,cAAc,EAAE,IAAIX,oBAAJ,CAAyB,KAAKY,mBAAL,CAAyBC,IAAzB,CAA8B,IAA9B,CAAzB;AAFlB;AAIA,WAAKD,mBAAL;AACD;;;0CAEqB;AAAA,yBACgB,KAAKN,MADrB;AAAA,UACZE,aADY,gBACZA,aADY;AAAA,UACGE,QADH,gBACGA,QADH;AAAA,UAECI,aAFD,GAEkBN,aAAa,CAACO,OAFhC,CAEZC,WAFY;AAAA,UAGCC,SAHD,GAGeP,QAAQ,CAACK,OAHxB,CAGZC,WAHY;;AAKpB,UAAIC,SAAS,IAAIH,aAAjB,EAAgC;AAC9B,eAAO,KAAKI,QAAL,CAAc;AAAEb,UAAAA,YAAY,EAAE;AAAhB,SAAd,CAAP;AACD;;AAED,aAAO,KAAKa,QAAL,CAAc;AAAEb,QAAAA,YAAY,EAAE;AAAhB,OAAd,CAAP;AACD;;;2CAEsB;AAAA,UACbM,cADa,GACM,KAAKL,MADX,CACbK,cADa;;AAGrB,UAAIA,cAAJ,EAAoB;AAClB,eAAOA,cAAc,CAACQ,IAAf,EAAP;AACD;;AAED,aAAO,IAAP;AACD;;;6BAEQ;AAAA,UACCf,KADD,GAC0B,IAD1B,CACCA,KADD;AAAA,UACQD,KADR,GAC0B,IAD1B,CACQA,KADR;AAAA,UACeG,MADf,GAC0B,IAD1B,CACeA,MADf;;AAGP,UAAMc,WAAW,qBACZjB,KADY,EAEZC,KAFY;AAGfC,QAAAA,YAAY,EAAED,KAAK,CAACC,YAHL;AAIfK,QAAAA,QAAQ,EAAEJ,MAAM,CAACI,QAJF;AAKfF,QAAAA,aAAa,EAAEF,MAAM,CAACE,aALP;AAMfD,QAAAA,KAAK,EAAED,MAAM,CAACC;AANC,QAAjB;;AASA,aAAO,oBAAC,MAAD,oBAAYa,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;;;;EAzDetB,S;;AA4DlB,eAAeI,GAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport Markup from './Markup';\nimport ResizeWindowListener from '../../../helpers/ResizeWindowListener';\nimport { colors } from './data';\n\n\nclass Bar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      labelOutside: null,\n    }\n\n    this.values = {\n      fills: colors,\n      componentNode: React.createRef(),\n      textNode: React.createRef(),\n    };\n  }\n\n  componentDidMount () {\n    this.values = {\n      ...this.values,\n      resizeListener: new ResizeWindowListener(this.labelOutsideHandler.bind(this)),\n    }\n    this.labelOutsideHandler();\n  }\n\n  labelOutsideHandler() {\n    const { componentNode, textNode } = this.values;\n    const { clientWidth: ColorBarWidth} = componentNode.current;\n    const { clientWidth: TextWidth } = textNode.current;\n\n    if (TextWidth >= ColorBarWidth) {\n      return this.setState({ labelOutside: true });\n    }\n\n    return this.setState({ labelOutside: false });\n  }\n\n  componentWillUnmount() {\n    const { resizeListener } = this.values;\n\n    if (resizeListener) {\n      return resizeListener.stop();\n    }\n\n    return null;\n  }\n\n  render() {\n    const { state, props, values } = this;\n\n    const passedProps = {\n      ...props,\n      ...state,\n      labelOutside: state.labelOutside,\n      textNode: values.textNode,\n      componentNode: values.componentNode,\n      fills: values.fills,\n    };\n\n    return <Markup {...passedProps } />\n  }\n}\n\nexport default Bar;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _objectSpread from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/packages/webapp/src/views/FocusArea/index.jsx\";\nimport React, { Component } from 'react';\nimport Markup from './Markup';\n\nvar Preview =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Preview, _Component);\n\n  function Preview(props) {\n    var _this;\n\n    _classCallCheck(this, Preview);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Preview).call(this, props));\n    _this.eventHandler = _this.eventHandler.bind(_assertThisInitialized(_this));\n    _this.state = {\n      selected: _this.props.department\n    };\n    _this.events = {\n      eventHandler: _this.eventHandler.bind(_assertThisInitialized(_this))\n    };\n    _this.departmentNames = _this.props.items.map(function (_ref) {\n      var id = _ref.id,\n          name = _ref.name;\n      return {\n        id: id,\n        name: name\n      };\n    });\n    return _this;\n  }\n\n  _createClass(Preview, [{\n    key: \"eventHandler\",\n    value: function eventHandler(e) {\n      var updateUrl = this.props.updateUrl;\n\n      if (e.target.value === this.state.selected) {\n        return null;\n      }\n\n      if (updateUrl) {\n        var newUrl = \"/\".concat(this.props.year, \"/focus/\").concat(e.target.value);\n        window.history.pushState({}, window.document.title, newUrl);\n      }\n\n      this.setState({\n        selected: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var state = this.state,\n          events = this.events,\n          props = this.props;\n      var selectedkey = props.items.findIndex(function (_ref2) {\n        var id = _ref2.id;\n        return id === state.selected;\n      });\n      var selectedObject = props.items[selectedkey];\n      var initialSelectedNational = {\n        name: 'National Department Contributions',\n        value: selectedObject.national.total,\n        url: null,\n        color: '#D8D8D8'\n      };\n      var initialSelectedProvincial = {\n        name: 'Provincial Department Contributions',\n        value: selectedObject.provincial.total,\n        url: null,\n        color: 'rgba(0, 0, 0, 0.1)'\n      };\n\n      var passedProps = _objectSpread({}, props, {\n        eventHandler: events.eventHandler,\n        selected: state.selected,\n        government: props.government,\n        departmentNames: this.departmentNames,\n        year: props.year,\n        initialSelectedNational: initialSelectedNational,\n        initialSelectedProvincial: initialSelectedProvincial\n      });\n\n      return React.createElement(Markup, Object.assign({}, passedProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Preview;\n}(Component);\n\nexport default Preview;","map":{"version":3,"sources":["/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/packages/webapp/src/views/FocusArea/index.jsx"],"names":["React","Component","Markup","Preview","props","eventHandler","bind","state","selected","department","events","departmentNames","items","map","id","name","e","updateUrl","target","value","newUrl","year","window","history","pushState","document","title","setState","selectedkey","findIndex","selectedObject","initialSelectedNational","national","total","url","color","initialSelectedProvincial","provincial","passedProps","government"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Markup from './Markup';\n\nclass Preview extends Component {\n  constructor(props) {\n    super(props);\n    this.eventHandler = this.eventHandler.bind(this);\n\n    this.state = {\n      selected: this.props.department,\n    };\n\n    this.events = {\n      eventHandler: this.eventHandler.bind(this),\n    };\n\n    this.departmentNames = this.props.items.map(({ id, name }) => ({\n      id,\n      name,\n    }));\n  }\n\n  eventHandler(e) {\n    const { updateUrl } = this.props;\n    if (e.target.value === this.state.selected) {\n      return null;\n    }\n    if (updateUrl) {\n      const newUrl = `/${this.props.year}/focus/${e.target.value}`;\n      window.history.pushState({}, window.document.title, newUrl);\n    }\n    this.setState({ selected: e.target.value });\n  }\n\n  render() {\n    const { state, events, props } = this;\n\n    const selectedkey = props.items.findIndex(({ id }) => id === state.selected);\n    const selectedObject = props.items[selectedkey];\n\n    const initialSelectedNational = {\n      name: 'National Department Contributions',\n      value: selectedObject.national.total,\n      url: null,\n      color: '#D8D8D8',\n    };\n\n    const initialSelectedProvincial = {\n      name: 'Provincial Department Contributions',\n      value: selectedObject.provincial.total,\n      url: null,\n      color: 'rgba(0, 0, 0, 0.1)',\n    };\n\n    const passedProps = {\n      ...props,\n      eventHandler: events.eventHandler,\n      selected: state.selected,\n      government: props.government,\n      departmentNames: this.departmentNames,\n      year: props.year,\n      initialSelectedNational,\n      initialSelectedProvincial,\n    };\n\n    return <Markup {...passedProps} />;\n  }\n}\n\nexport default Preview;\n"]},"metadata":{},"sourceType":"module"}
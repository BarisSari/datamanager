{"ast":null,"code":"import _objectSpread from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/packages/webapp/src/views/Preview/index.jsx\";\nimport React, { Component } from 'react';\nimport Markup from './Markup';\n\nvar Preview =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Preview, _Component);\n\n  function Preview(props) {\n    var _this;\n\n    _classCallCheck(this, Preview);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Preview).call(this, props));\n    _this.eventHandler = _this.eventHandler.bind(_assertThisInitialized(_this));\n    _this.state = {\n      selected: _this.props.department\n    };\n    _this.events = {\n      eventHandler: _this.eventHandler.bind(_assertThisInitialized(_this))\n    };\n    _this.departmentNames = _this.props.items.map(function (_ref) {\n      var id = _ref.id,\n          title = _ref.title;\n      return {\n        id: id,\n        name: title\n      };\n    });\n    return _this;\n  }\n\n  _createClass(Preview, [{\n    key: \"eventHandler\",\n    value: function eventHandler(e) {\n      if (e.target.value === this.state.selected) {\n        return null;\n      }\n\n      var newUrl = \"/\".concat(this.props.year, \"/previews/\").concat(this.props.sphere, \"/\").concat(this.props.government, \"/\").concat(e.target.value);\n      window.history.pushState({}, window.document.title, newUrl);\n      this.setState({\n        selected: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var state = this.state,\n          events = this.events,\n          props = this.props;\n      var selectedObject = props.items.find(function (_ref2) {\n        var id = _ref2.id;\n        return id === state.selected;\n      });\n\n      var passedProps = _objectSpread({}, props, selectedObject, {\n        eventHandler: events.eventHandler,\n        selected: state.selected,\n        government: props.government,\n        departmentNames: this.departmentNames,\n        year: props.year\n      });\n\n      return React.createElement(Markup, Object.assign({}, passedProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Preview;\n}(Component);\n\nexport default Preview;","map":{"version":3,"sources":["/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/packages/webapp/src/views/Preview/index.jsx"],"names":["React","Component","Markup","Preview","props","eventHandler","bind","state","selected","department","events","departmentNames","items","map","id","title","name","e","target","value","newUrl","year","sphere","government","window","history","pushState","document","setState","selectedObject","find","passedProps"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,UAAnB;;IAIMC,O;;;;;AACJ,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,iFAAMA,KAAN;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,MAAKJ,KAAL,CAAWK;AADV,KAAb;AAIA,UAAKC,MAAL,GAAc;AACZL,MAAAA,YAAY,EAAE,MAAKA,YAAL,CAAkBC,IAAlB;AADF,KAAd;AAIA,UAAKK,eAAL,GAAuB,MAAKP,KAAL,CAAWQ,KAAX,CAAiBC,GAAjB,CAAqB;AAAA,UAAGC,EAAH,QAAGA,EAAH;AAAA,UAAOC,KAAP,QAAOA,KAAP;AAAA,aAAoB;AAC9DD,QAAAA,EAAE,EAAFA,EAD8D;AAE9DE,QAAAA,IAAI,EAAED;AAFwD,OAApB;AAAA,KAArB,CAAvB;AAZiB;AAgBlB;;;;iCAEYE,C,EAAG;AACd,UAAGA,CAAC,CAACC,MAAF,CAASC,KAAT,KAAmB,KAAKZ,KAAL,CAAWC,QAAjC,EAA2C;AACzC,eAAO,IAAP;AACD;;AAED,UAAMY,MAAM,cAAO,KAAKhB,KAAL,CAAWiB,IAAlB,uBAAmC,KAAKjB,KAAL,CAAWkB,MAA9C,cAAwD,KAAKlB,KAAL,CAAWmB,UAAnE,cAAiFN,CAAC,CAACC,MAAF,CAASC,KAA1F,CAAZ;AACAK,MAAAA,MAAM,CAACC,OAAP,CAAeC,SAAf,CAAyB,EAAzB,EAA6BF,MAAM,CAACG,QAAP,CAAgBZ,KAA7C,EAAoDK,MAApD;AACA,WAAKQ,QAAL,CAAc;AAAEpB,QAAAA,QAAQ,EAAES,CAAC,CAACC,MAAF,CAASC;AAArB,OAAd;AACD;;;6BAEQ;AAAA,UACCZ,KADD,GAC0B,IAD1B,CACCA,KADD;AAAA,UACQG,MADR,GAC0B,IAD1B,CACQA,MADR;AAAA,UACgBN,KADhB,GAC0B,IAD1B,CACgBA,KADhB;AAEP,UAAMyB,cAAc,GAAGzB,KAAK,CAACQ,KAAN,CAAYkB,IAAZ,CAAiB;AAAA,YAAGhB,EAAH,SAAGA,EAAH;AAAA,eAAYA,EAAE,KAAKP,KAAK,CAACC,QAAzB;AAAA,OAAjB,CAAvB;;AAGA,UAAMuB,WAAW,qBACZ3B,KADY,EAEZyB,cAFY;AAGfxB,QAAAA,YAAY,EAAEK,MAAM,CAACL,YAHN;AAIfG,QAAAA,QAAQ,EAAED,KAAK,CAACC,QAJD;AAKfe,QAAAA,UAAU,EAAEnB,KAAK,CAACmB,UALH;AAMfZ,QAAAA,eAAe,EAAE,KAAKA,eANP;AAOfU,QAAAA,IAAI,EAAEjB,KAAK,CAACiB;AAPG,QAAjB;;AAUA,aAAO,oBAAC,MAAD,oBAAYU,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;;;;EA7CmB9B,S;;AAgDtB,eAAeE,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport Markup from './Markup';\n\n\n\nclass Preview extends Component {\n  constructor(props) {\n    super(props);\n    this.eventHandler = this.eventHandler.bind(this);\n\n    this.state = {\n      selected: this.props.department\n    }\n\n    this.events = {\n      eventHandler: this.eventHandler.bind(this),\n    }\n\n    this.departmentNames = this.props.items.map(({ id, title }) => ({\n      id,\n      name: title\n    }))\n  }\n\n  eventHandler(e) {\n    if(e.target.value === this.state.selected) {\n      return null;\n    }\n\n    const newUrl = `/${this.props.year}/previews/${this.props.sphere}/${this.props.government}/${e.target.value}`;\n    window.history.pushState({}, window.document.title, newUrl );\n    this.setState({ selected: e.target.value });\n  }\n\n  render() {\n    const { state, events, props } = this;\n    const selectedObject = props.items.find(({ id }) => id === state.selected);\n\n\n    const passedProps = {\n      ...props,\n      ...selectedObject,\n      eventHandler: events.eventHandler,\n      selected: state.selected,\n      government: props.government,\n      departmentNames: this.departmentNames,\n      year: props.year,\n    };\n\n    return <Markup {...passedProps } />\n  }\n}\n\nexport default Preview;\n\n"]},"metadata":{},"sourceType":"module"}
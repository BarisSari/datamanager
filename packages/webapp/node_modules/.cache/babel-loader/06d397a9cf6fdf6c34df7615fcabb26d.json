{"ast":null,"code":"import _classCallCheck from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport { Component, createElement } from 'react';\nimport axios from 'axios';\nimport FocusAreaPreview from '../../views/FocusArea';\nimport transformData from './transformData';\n\nvar DataLoader =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DataLoader, _Component);\n\n  function DataLoader(props) {\n    var _this;\n\n    _classCallCheck(this, DataLoader);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DataLoader).call(this, props));\n    _this.state = {\n      loading: true,\n      data: null\n    };\n    return _this;\n  }\n\n  _createClass(DataLoader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var year = this.props.year;\n      var api = \"/json/\".concat(year, \"/focus.json\");\n\n      var loadliveData = function loadliveData(_ref) {\n        var data = _ref.data;\n        return _this2.setState({\n          data: transformData(data),\n          loading: false\n        });\n      };\n\n      return axios.get(api).then(function (_ref2) {\n        var data = _ref2.data;\n        return data;\n      }).then(loadliveData);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var state = this.state,\n          props = this.props;\n      var loading = state.loading,\n          data = state.data;\n      var year = props.year;\n\n      if (loading || !data) {\n        return createElement('div', {}, 'Loading...');\n      }\n\n      var passedProps = {\n        items: data,\n        department: this.props.department,\n        year: year,\n        updateUrl: true\n      };\n      return createElement(FocusAreaPreview, passedProps);\n    }\n  }]);\n\n  return DataLoader;\n}(Component);\n\nexport default DataLoader;","map":{"version":3,"sources":["/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/packages/webapp/src/adaptors/focus-areas-preview/DataLoader.js"],"names":["Component","createElement","axios","FocusAreaPreview","transformData","DataLoader","props","state","loading","data","year","api","loadliveData","setState","get","then","passedProps","items","department","updateUrl"],"mappings":";;;;;AAAA,SAASA,SAAT,EAAoBC,aAApB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,gBAAP,MAA6B,uBAA7B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;IAEMC,U;;;;;AACJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,oFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,IADE;AAEXC,MAAAA,IAAI,EAAE;AAFK,KAAb;AAHiB;AAOlB;;;;wCAEmB;AAAA;;AAAA,UACVC,IADU,GACD,KAAKJ,KADJ,CACVI,IADU;AAElB,UAAMC,GAAG,mBAAYD,IAAZ,gBAAT;;AAEA,UAAME,YAAY,GAAG,SAAfA,YAAe;AAAA,YAAGH,IAAH,QAAGA,IAAH;AAAA,eACnB,MAAI,CAACI,QAAL,CAAc;AAAEJ,UAAAA,IAAI,EAAEL,aAAa,CAACK,IAAD,CAArB;AAA6BD,UAAAA,OAAO,EAAE;AAAtC,SAAd,CADmB;AAAA,OAArB;;AAGA,aAAON,KAAK,CAACY,GAAN,CAAUH,GAAV,EACJI,IADI,CACC;AAAA,YAAGN,IAAH,SAAGA,IAAH;AAAA,eAAcA,IAAd;AAAA,OADD,EAEJM,IAFI,CAECH,YAFD,CAAP;AAGD;;;6BAEQ;AAAA,UACCL,KADD,GACkB,IADlB,CACCA,KADD;AAAA,UACQD,KADR,GACkB,IADlB,CACQA,KADR;AAAA,UAECE,OAFD,GAEmBD,KAFnB,CAECC,OAFD;AAAA,UAEUC,IAFV,GAEmBF,KAFnB,CAEUE,IAFV;AAAA,UAGCC,IAHD,GAGUJ,KAHV,CAGCI,IAHD;;AAKP,UAAIF,OAAO,IAAI,CAACC,IAAhB,EAAsB;AACpB,eAAOR,aAAa,CAAC,KAAD,EAAQ,EAAR,EAAY,YAAZ,CAApB;AACD;;AAED,UAAMe,WAAW,GAAG;AAClBC,QAAAA,KAAK,EAAER,IADW;AAElBS,QAAAA,UAAU,EAAE,KAAKZ,KAAL,CAAWY,UAFL;AAGlBR,QAAAA,IAAI,EAAJA,IAHkB;AAIlBS,QAAAA,SAAS,EAAE;AAJO,OAApB;AAOA,aAAOlB,aAAa,CAACE,gBAAD,EAAmBa,WAAnB,CAApB;AACD;;;;EAvCsBhB,S;;AA0CzB,eAAeK,UAAf","sourcesContent":["import { Component, createElement } from 'react';\nimport axios from 'axios';\n\nimport FocusAreaPreview from '../../views/FocusArea';\nimport transformData from './transformData';\n\nclass DataLoader extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      data: null,\n    };\n  }\n\n  componentDidMount() {\n    const { year } = this.props;\n    const api = `/json/${year}/focus.json`;\n\n    const loadliveData = ({ data }) =>\n      this.setState({ data: transformData(data), loading: false });\n\n    return axios.get(api)\n      .then(({ data }) => data)\n      .then(loadliveData);\n  }\n\n  render() {\n    const { state, props } = this;\n    const { loading, data } = state;\n    const { year } = props;\n\n    if (loading || !data) {\n      return createElement('div', {}, 'Loading...');\n    }\n\n    const passedProps = {\n      items: data,\n      department: this.props.department,\n      year,\n      updateUrl: true\n    }\n    \n    return createElement(FocusAreaPreview, passedProps);\n  }\n}\n\nexport default DataLoader;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _objectWithoutProperties from \"/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar transformData = function transformData(_ref) {\n  var total = _ref.total,\n      items = _ref.items;\n  var provinces = ['Eastern Cape', 'Free State', 'Gauteng', 'Limpopo', 'Mpumalanga', 'Northern Cape', 'Western Cape', 'North West', 'KwaZulu-Natal'].reduce(function (result, provinceName) {\n    var children = items.filter(function (item) {\n      return item.province === provinceName;\n    }).map(function (_ref2) {\n      var slug = _ref2.slug,\n          percentage_of_total = _ref2.percentage_of_total,\n          data = _objectWithoutProperties(_ref2, [\"slug\", \"percentage_of_total\"]);\n\n      return _objectSpread({}, data, {\n        id: slug,\n        percentage: percentage_of_total\n      });\n    });\n    var amount = children.reduce(function (result, _ref3) {\n      var amount = _ref3.amount;\n      return result + amount;\n    }, 0);\n    var percentage = amount / total * 100;\n    return _objectSpread({}, result, _defineProperty({}, provinceName, {\n      name: provinceName,\n      amount: amount,\n      percentage: percentage,\n      children: children\n    }));\n  }, {});\n  return {\n    total: total,\n    items: provinces\n  };\n};\n\nexport default transformData;","map":{"version":3,"sources":["/home/huy/Programming/Freelancer/migrate_about_us_page_to_django/datamanager/packages/webapp/src/adaptors/provincial-treemap/transformData.js"],"names":["transformData","total","items","provinces","reduce","result","provinceName","children","filter","item","province","map","slug","percentage_of_total","data","id","percentage","amount","name"],"mappings":";;;;AAAA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,OAAsB;AAAA,MAAnBC,KAAmB,QAAnBA,KAAmB;AAAA,MAAZC,KAAY,QAAZA,KAAY;AAC1C,MAAMC,SAAS,GAAG,CAAC,cAAD,EAAgB,YAAhB,EAA6B,SAA7B,EAAuC,SAAvC,EAAiD,YAAjD,EAA8D,eAA9D,EAA8E,cAA9E,EAA6F,YAA7F,EAA2G,eAA3G,EAA4HC,MAA5H,CAChB,UAACC,MAAD,EAASC,YAAT,EAA0B;AACxB,QAAMC,QAAQ,GAAGL,KAAK,CAACM,MAAN,CAAa,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACC,QAAL,KAAkBJ,YAAtB;AAAA,KAAjB,EAAqDK,GAArD,CAAyD;AAAA,UAAGC,IAAH,SAAGA,IAAH;AAAA,UAASC,mBAAT,SAASA,mBAAT;AAAA,UAAiCC,IAAjC;;AAAA,+BACrEA,IADqE;AAExEC,QAAAA,EAAE,EAAEH,IAFoE;AAGxEI,QAAAA,UAAU,EAAEH;AAH4D;AAAA,KAAzD,CAAjB;AAMA,QAAMI,MAAM,GAAGV,QAAQ,CAACH,MAAT,CAAgB,UAACC,MAAD;AAAA,UAAWY,MAAX,SAAWA,MAAX;AAAA,aAAwBZ,MAAM,GAAGY,MAAjC;AAAA,KAAhB,EAAyD,CAAzD,CAAf;AACA,QAAMD,UAAU,GAAIC,MAAM,GAAGhB,KAAV,GAAmB,GAAtC;AAEA,6BACKI,MADL,sBAEGC,YAFH,EAEkB;AACdY,MAAAA,IAAI,EAAEZ,YADQ;AAEdW,MAAAA,MAAM,EAANA,MAFc;AAGdD,MAAAA,UAAU,EAAVA,UAHc;AAIdT,MAAAA,QAAQ,EAARA;AAJc,KAFlB;AASD,GApBe,EAqBhB,EArBgB,CAAlB;AAwBA,SAAO;AAAEN,IAAAA,KAAK,EAALA,KAAF;AAASC,IAAAA,KAAK,EAAEC;AAAhB,GAAP;AACD,CA1BD;;AA6BA,eAAeH,aAAf","sourcesContent":["const transformData = ({ total, items }) => {\n  const provinces = ['Eastern Cape','Free State','Gauteng','Limpopo','Mpumalanga','Northern Cape','Western Cape','North West', 'KwaZulu-Natal'].reduce(\n    (result, provinceName) => {\n      const children = items.filter(item => item.province === provinceName).map(({ slug, percentage_of_total, ...data }) => ({\n        ...data,\n        id: slug,\n        percentage: percentage_of_total,\n      }));\n    \n      const amount = children.reduce((result, { amount }) => result + amount, 0);\n      const percentage = (amount / total) * 100;\n      \n      return {\n        ...result,\n        [provinceName]: {\n          name: provinceName,\n          amount,\n          percentage,\n          children\n        }\n      };\n    },\n    {},\n  )\n\n  return { total, items: provinces };\n}\n\n\nexport default transformData;\n"]},"metadata":{},"sourceType":"module"}